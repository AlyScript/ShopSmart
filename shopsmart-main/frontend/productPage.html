<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Product Page</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link href="general.css" rel="stylesheet">
    </head> 
    <body>
        <div class="container">
            <div class="row" id="product-container"></div>
        </div>
    </body>

    <div id="product-container"></div>

    <script>
        var products = [
            { name: 'Green Dragon Thai Fragrant Jasmine Rice 5kg', category: 'Rice', stars: '4.8', description: 'Lorem Ipsum', quantity: '5kg', price: 'Â£12.99', pricePer: '26p/100g', image1: 'placeholder1.png'},
            { name: 'Product 1', category: 'Fruit', stars: '4.8', description: 'Lorem Ipsum', quantity: '100g', price: '$99.99', pricePer: '60p/100g', image1: 'placeholder1.png', image2: 'placeholder1.png'},
            { name: 'Product 2', category: 'Fruit', stars: '4.8', description: 'Lorem Ipsum', quantity: '103g', price: '$89.99', pricePer: '60p/100g', image1: 'placeholder1.png', image2: 'placeholder1.png'},
            { name: 'Product 3', category: 'Fruit', stars: '4.8', description: 'Lorem Ipsum', quantity: '106g', price: '$79.99', pricePer: '60p/100g', image1: 'placeholder1.png', image2: 'placeholder1.png'},
            { name: 'Product 4', category: 'Fruit', stars: '4.8', description: 'Lorem Ipsum', quantity: '102g', price: '$89.99', pricePer: '60p/100g', image1: 'placeholder1.png', image2: 'placeholder1.png'},
        ];

        fetch('productBox.html')
            .then(response => response.text())
            .then(data => {
                var container = document.getElementById('product-container');

                var product = products[0];

                var card = data
                    .replace('placeholder_image1', product.image1)
                    .replace('placeholder_name1', product.name)
                    .replace('placeholder_category1', product.category)
                    .replace('quantity1', product.quantity)
                    .replace('placeholder_stars1', product.stars)
                    .replace('placeholder_pricePer1', product.pricePer)
                    .replace('placeholder_price1', product.price)
                    .replace('placeholder_additional_info1', 'Additional Information')
                    .replace('placeholder_description1', product.description);

                container.innerHTML += `
                    <div class="col-lg-12 col-md-8 mb-4">
                        <div class="card h-100">
                            ${card}
                        </div>
                    </div>
                `;
            })
            
        fetch('productBoxSmall.html')
            .then(response => response.text())
            .then(data => {
                var container = document.getElementById('product-container');

                for (let i = 1; i < products.length; i++) {
                    product = products[i];

                    card = data
                        .replace('placeholder_image2', product.image1)
                        .replace('placeholder_name2', product.name)
                        .replace('placeholder_category2', product.category)
                        .replace('quantity2', product.quantity)
                        .replace('placeholder_stars2', product.stars)
                        .replace('placeholder_description2', product.description)
                        .replace('placeholder_pricePer2', product.pricePer)
                        .replace('placeholderSeller_image2', product.image2)
                        .replace('placeholder_price2', product.price);

                    container.innerHTML += `
                        <div class="container_small">
                            ${card}
                        </div>
                    `;
                }
            })
    </script>
</html>